!function(e){function r(e,r,o){r=r||"",o=o||512;for(var i=atob(e),n=[],t=0;t<i.length;t+=o){for(var c=i.slice(t,t+o),a=new Array(c.length),d=0;d<c.length;d++)a[d]=c.charCodeAt(d);var s=new Uint8Array(a);n.push(s)}return new Blob(n,{type:r})}var o,i="audio/wav";o={recorder:null,recorderOriginalWidth:0,recorderOriginalHeight:0,uploadFormId:null,uploadFieldName:null,isReady:!1,connect:function(e,r){if(-1!=navigator.appName.indexOf("Microsoft")?o.recorder=window[e]:o.recorder=document[e],!(r>=40))if(o.recorder&&o.recorder.init){if(o.recorderOriginalWidth=o.recorder.width,o.recorderOriginalHeight=o.recorder.height,o.uploadFormId&&$){var i=$(o.uploadFormId);o.recorder.init(i.attr("action").toString(),o.uploadFieldName,i.serializeArray())}}else setTimeout(function(){o.connect(e,r+1)},100)},playBack:function(e){o.recorder.playBack(e)},pausePlayBack:function(e){o.recorder.pausePlayBack(e)},playBackFrom:function(e,r){o.recorder.playBackFrom(e,r)},record:function(e,r){o.recorder.record(e,r)},stopRecording:function(){o.recorder.stopRecording()},stopPlayBack:function(){o.recorder.stopPlayBack()},observeLevel:function(){o.recorder.observeLevel()},stopObservingLevel:function(){o.recorder.stopObservingLevel()},observeSamples:function(){o.recorder.observeSamples()},stopObservingSamples:function(){o.recorder.stopObservingSamples()},resize:function(e,r){o.recorder.width=e+"px",o.recorder.height=r+"px"},defaultSize:function(){o.resize(o.recorderOriginalWidth,o.recorderOriginalHeight)},show:function(){o.recorder.show()},hide:function(){o.recorder.hide()},duration:function(e){return o.recorder.duration(e||o.uploadFieldName)},getBase64:function(e){var r=o.recorder.getBase64(e);return"data:"+i+";base64,"+r},getBlob:function(e){var n=o.getBase64(e).split(",")[1];return r(n,i)},getCurrentTime:function(e){return o.recorder.getCurrentTime(e)},isMicrophoneAccessible:function(){return o.recorder.isMicrophoneAccessible()},updateForm:function(){var e=$(o.uploadFormId);o.recorder.update(e.serializeArray())},showPermissionWindow:function(e){o.resize(240,160);var r=function(){e&&e.permanent?o.recorder.permitPermanently():o.recorder.permit()};setTimeout(r,1)},configure:function(e,r,i,n){switch(e=parseInt(e||11),r=parseInt(r||100),i=parseInt(i||0),n=parseInt(n||4e3),e){case 44:case 22:case 11:case 8:case 5:break;default:throw"invalid rate "+e}if(0>r||r>100)throw"invalid gain "+r;if(0>i||i>100)throw"invalid silenceLevel "+i;if(-1>n)throw"invalid silenceTimeout "+n;o.recorder.configure(e,r,i,n)},setUseEchoSuppression:function(e){if("boolean"!=typeof e)throw"invalid value for setting echo suppression, val: "+e;o.recorder.setUseEchoSuppression(e)},setLoopBack:function(e){if("boolean"!=typeof e)throw"invalid value for setting loop back, val: "+e;o.recorder.setLoopBack(e)}},e.FWRecorder=o}(this);