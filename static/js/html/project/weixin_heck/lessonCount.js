define("lessonCount",[],function(e,t,a){function n(){o.request("get","/CourseTextbook/getAllTextbook",{},function(e){if(1e4!==e.status)return alert(e.message);for(var t=e.message,a="",n=0;n<t.length;n++){var s=t[n].book_type,i=t[n].version,o=t[n].title;a+="<li>",a+='<label><input type="radio" name="banben" data-version="'+i+'" value="'+s+'"><span>'+o+"</span>",a+="</label></li>"}$("#lesson-banben").html(a),l()})}function l(){$("#lesson-banben li label").on("click",function(e){$(this).addClass("cut-sel").parent("li").siblings().find("label").removeClass("cut-sel");var t=$(this).find("input"),a=t.val(),n=t.attr("data-version");return o.request("post","/CourseTextbook/getAllLevelByBookType",{book_type:a,version:n},function(e){if(1e4!==e.status)return alert(e.message);var t=e.message;if(t.length>0){for(var l="",i=0;i<t.length;i++){var o=t[i].level,r=t[i].title;l+="<li><label>",l+='<input type="radio" name="jibie" ',l+='data-book_type="'+a+'"  data-version="'+n+'" data-level="'+o+'"',l+=' value="'+o+'"><span>'+r+"</span>",l+="</label></li>"}$("#lesson-jibie").html(l),$(".jibie").show()}else $(".jibie").hide();s()}),!1})}function s(){$("#lesson-jibie li label").on("click",function(){$(this).addClass("cut-sel").parent("li").siblings().find("label").removeClass("cut-sel");var e=$(this).find("input"),t=e.attr("data-book_type"),a=e.attr("data-version"),n=e.attr("data-level");return o.request("post","/CourseTextbook/getAllUnitByLevel",{book_type:t,version:a,level:n},function(e){if(1e4!==e.status)return alert(e.message);var l=e.message;if(l.length>0){for(var s="",o=0;o<l.length;o++){var r=l[o].unit_id,u=l[o].unit_name;s+="<li>",s+='<label><input type="radio" name="danyuan"',s+='data-book_type="'+t+'"  data-version="'+a+'" data-level="'+n+'" data-unit_id="'+r+'"',s+=' value="'+n+'"><span>'+u+"</span>",s+="</label></li>"}$("#lesson-danyuan").html(s),$(".danyuan").show(),i()}else $(".danyuan").hide()}),!1})}function i(){$("#lesson-danyuan li").on("click",function(){$(this).find("label").addClass("cut-sel").parent("li").siblings().find("label").removeClass("cut-sel");var e=$(this).find("input"),t=e.attr("data-book_type"),a=e.attr("data-version"),n=e.attr("data-level"),l=e.attr("data-unit_id");return o.request("post","/CourseTextbook/getCourseList",{book_type:t,version:a,level:n,unit_id:l},function(e){if(1e4!==e.status)return alert(e.message);var t=e.message;if(t.length>0){for(var a="",n=0;n<t.length;n++){var l=(t[n].id,t[n].course_name),s=t[n].file_name,i=t[n].file_date,o=t[n].file_size,r=t[n].oss_link,u='<a href="'+r+'" target="_blank">\u94fe\u63a5</a>';r||(u="\u6682\u65e0\u94fe\u63a5"),a+="<tr><td>",a+=l,a+="</td><td>",a+=s,a+="</td><td>",a+=i,a+="</td><td>",a+=o,a+="</td><td>",a+=u,a+="</td></tr>"}$("#lesson-table").html(a),$(".table").show()}else $(".table").hide()}),!1})}var o={request:function(e,t,a,n,l){$.ajax({url:t,type:e,data:a,dataType:"JSON",success:function(e){n(e)},error:l})}};n()});