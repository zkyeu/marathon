define("lessonTips",["niceScroll","vm"],function(t,e,s){function i(t){var e={type:"post",dataType:"json",error:function(){alert("\u7f51\u7edc\u9519\u8bef\uff0c \u8bf7\u91cd\u8bd5\uff01")}},s=$.extend({},e,t);return $.ajax(s)}$.fn.heckScroll=function(){var t=$(this);return t.niceScroll({cursorcolor:"#686b71",autohidemode:!0,cursorwidth:7,cursorborderradius:"999px",cursorborder:0}),t};new Vue({el:"body",data:function(){return{curType:"",text:"",types:[],list:{},inited:!1}},methods:{init:function(){this.updateTypes().success(this.updateList)},updateTypes:function(){return i({url:"/CourseRemindTemplate/getTemplateType"}).success(function(t){if(1e4!=t.status)return alert(t.message);var e=[];for(var s in t.message)e.push({name:t.message[s],type:s});this.types=e,this.curType=this.types[0].type}.bind(this))},updateList:function(){return i({url:"/CourseRemindTemplate/getTemplateList",data:{type:this.curType}}).success(function(t){return 1e4!=t.status?alert(t.message):(Vue.set(this.list,this.curType,t.message),void(this.inited=!0))}.bind(this))},changeType:function(t){this.curType=t.type,this.curList||this.updateList()},del:function(t){confirm("\u662f\u5426\u5220\u9664\u6b64\u6761\uff1f")&&i({url:"/CourseRemindTemplate/delTemplate",data:{id:t.id}}).success(function(t){return 1e4!=t.status?alert(t.message):(alert("\u5220\u9664\u6210\u529f"),void this.updateList())}.bind(this))},add:function(){""!=this._text&&i({url:"/CourseRemindTemplate/addTemplate",data:{type:this.curType,template_doc:this._text}}).success(function(t){return 1e4!=t.status?alert(t.message):(alert("\u66f4\u65b0\u6210\u529f"),this.text="",void this.updateList())}.bind(this))}},created:function(){this.init(),$(".lesson-tips dd").heckScroll()},computed:{curList:function(){return this.list[this.curType]},_text:function(){return this.text.trim()}}})});