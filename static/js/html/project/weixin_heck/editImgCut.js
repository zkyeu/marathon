define("editImgCut",[],function(t,i,e){function n(t,i,e){t.addEventListener?t.addEventListener(i,e,!1):t.attachEvent("on"+i,e)}function r(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent("on"+i,e)}var o=function(t){var i={};return i.IE=t.match(/msie ([\d.]+)/)?!0:!1,i.Firefox=t.match(/firefox\/([\d.]+)/)?!0:!1,i.Chrome=t.match(/chrome\/([\d.]+)/)?!0:!1,i.IE6=i.IE&&6==[/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]?!0:!1,i.IE7=i.IE&&7==[/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]?!0:!1,i.IE8=i.IE&&8==[/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]?!0:!1,i}(navigator.userAgent.toLowerCase()),s=function(t){return document.getElementById(t)},h=function(t,i){for(var e in i)t.style[e]=i[e]},u=function(t,i){var e=Array.prototype.slice.call(arguments).slice(2);return function(){return i.apply(t,e)}},f=function(t,i){var e=Array.prototype.slice.call(arguments).slice(2);return function(n){return i.apply(t,[n||window.event].concat(e))}},l=function(t){return t.currentStyle||document.defaultView.getComputedStyle(t,null)},c=function(t){var i=function(){return null!==arguments[0]&&this.initialize&&"function"==typeof this.initialize?this.initialize.apply(this,arguments):this};return i.prototype=t,i},a=function(t){return'<div id="'+t+'">					<div id="rRightDown"></div>					<div id="rLeftDown"></div>					<div id="rRightUp"></div>					<div id="rLeftUp"></div>					<div id="rRight"></div>					<div id="rLeft"></div>					<div id="rUp"></div>					<div id="rDown"></div>				</div>'},d=new c({initialize:function(t){this.obj=t,this.resizeelm=null,this.fun=null,this.original=[],this.width=null,this.height=null,this.fR=f(this,this.resize),this.fS=u(this,this.stop)},set:function(t,i){return t?(this.resizeelm=t,n(this.resizeelm,"mousedown",f(this,this.start,this[i])),this):void 0},start:function(t,i){this.fun=i,this.original=[parseInt(l(this.obj).width),parseInt(l(this.obj).height),parseInt(l(this.obj).left),parseInt(l(this.obj).top)],this.width=(this.original[2]||0)+this.original[0],this.height=(this.original[3]||0)+this.original[1],n(document,"mousemove",this.fR),n(document,"mouseup",this.fS)},resize:function(t){this.fun(t),o.IE?this.resizeelm.onlosecapture=function(){this.fS()}:this.resizeelm.onblur=function(){this.fS()}},stop:function(){r(document,"mousemove",this.fR),r(document,"mousemove",this.fS)},up:function(t){t.clientY+parseInt(jQuery("#resizeWrap").css("borderWidth"))<jQuery("#paintCon").offset().top||this.height>t.clientY&&h(this.obj,{top:t.clientY+"px",height:this.height-t.clientY+"px"})},down:function(t){t.clientY>jQuery("#paintCon").offset().top+jQuery("#paintCon").height()-parseInt(jQuery("#resizeWrap").css("borderWidth"))||t.clientY>this.original[3]&&h(this.obj,{top:this.original[3]+"px",height:t.clientY-this.original[3]+"px"})},left:function(t){t.clientX<jQuery("#paintCon").offset().left-parseInt(jQuery("#resizeWrap").css("borderWidth"))||t.clientX<this.width&&h(this.obj,{left:t.clientX+"px",width:this.width-t.clientX+"px"})},right:function(t){t.clientX>jQuery("#paintCon").offset().left+jQuery("#paintCon").width()-parseInt(jQuery("#resizeWrap").css("borderWidth"))||t.clientX>this.original[2]&&h(this.obj,{left:this.original[2]+"px",width:t.clientX-this.original[2]+"px"})},leftUp:function(t){this.up(t),this.left(t)},leftDown:function(t){this.left(t),this.down(t)},rightUp:function(t){this.up(t),this.right(t)},rightDown:function(t){this.right(t),this.down(t)},turnDown:function(t){h(this.obj,{top:this.height+"px",height:t.clientY-this.height+"px"})},turnUp:function(t){h(this.obj,{top:t.clientY+"px",height:this.original[3]-t.clientY+"px"})},turnRight:function(t){h(this.obj,{left:this.width+"px",width:t.clientX-this.width+"px"})},turnLeft:function(t){h(this.obj,{left:t.clientX+"px",width:this.original[2]-t.clientX+"px"})}});return{init:function(t){var i=t.id,e=s(i);if(e)return void(t.beforeInit&&t.beforeInit(e));var n=a(i);t.container.innerHTML=n,e=s(i),t.beforeInit&&t.beforeInit(e),new d(e).set(s("rUp"),"up").set(s("rDown"),"down").set(s("rLeft"),"left").set(s("rRight"),"right").set(s("rLeftUp"),"leftUp").set(s("rLeftDown"),"leftDown").set(s("rRightDown"),"rightDown").set(s("rRightUp"),"rightUp")}}});