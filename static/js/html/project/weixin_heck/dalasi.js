define("dalasi",["echarts.min","layui"],function(t,e,a){function n(){s.request("post","/WorkCorrect/dalasTeacherList",{typeList:c},function(t){var e="";for(x in t)e+='<option value="'+x+'">'+t[x]+"</option>";$("#teacherList").html(e);var a=$("#teacherList").val();s.request("post","/WorkCorrect/workCorrectStat",{beginTime:r(-6),endTime:r(0),typeList:c,adminId:a,timeflag:d},function(t){l(t)})})}function r(t){var e=new Date;e.setDate(e.getDate()+t);var a=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate();return a+"-"+n+"-"+r}function o(t,e,a,n,r){s.request("post","/WorkCorrect/workCorrectStat",{beginTime:n,endTime:r,typeList:t,adminId:a,timeflag:e},function(t){0==t.length?($("#chartLable").hide(),$(".show-detail-user").hide(),$(".nodata").show()):l(t)})}function i(){$("#typeList").change(function(){var t=$("#typeList").val();s.request("post","/WorkCorrect/dalasTeacherList",{typeList:t},function(t){var e="";for(x in t)e+='<option value="'+x+'">'+t[x]+"</option>";$("#teacherList").html(e)})})}function l(t){var e={xData:[],yData:{receive_num:[],send_num:[],web_send_num:[],phone_send_num:[],sys_send_num:[],mid_send_num:[]}};if(0!=t.length){for(var a="",n=$("#typeList").val(),r=0;r<t.length;r++){a+="<tr><td>"+t[r].label+'</td><td><a href="jobStatsDetail?type='+n+"&time="+t[r].label+'" target="_blank">'+t[r].correct_num+"</a></td><td>"+t[r].group_num+"</td></tr>";var o=t[r].label;e.xData.push(o);var i=void 0==t[r].correct_num?0:t[r].correct_num,l=void 0==t[r].group_num?0:t[r].group_num;e.yData.receive_num.push(i),e.yData.send_num.push(l)}$("#dalasi").html(a),$(".show-detail-user").show(),$(".nodata").hide()}else $(".show-detail-user").hide(),$(".nodata").show();var s={text:"\u8fbe\u62c9\u65af\u4f5c\u4e1a\u7edf\u8ba1",subtext:"\u6570\u636e\u6765\u81ea\u9ed1\u9e1f\u56e2\u961f",xAxis:e.xData,legend:["\u4f5c\u4e1a\u6279\u6539\u6570","\u6279\u6539\u7fa4\u6570"],barData:{receive_num:e.yData.receive_num,send_num:e.yData.send_num},normal:{colorList:["#ff6565","#ffc800"],show:!0,position:"top"},grid:{left:"1%",right:"2%",bottom:"3%",containLabel:!0}},u=document.getElementById("chartLable"),c="100%-20";u.setAttribute("style","~cacl(width:"+c+"px);height:500px;margin-left:20px;overflow-x:auto;");var d=echarts.init(u),m={title:{text:s.text,subtext:s.subtext},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:function(){return s.legend}()},grid:{left:s.grid.left,right:s.grid.right,bottom:s.grid.bottom,containLabel:s.grid.containLabel},xAxis:{type:"category",data:function(){return s.xAxis}()},yAxis:{type:"value",boundaryGap:[0,.01]},series:[{name:s.legend[0],type:"bar",data:s.barData.receive_num,itemStyle:{normal:{barBorderRadius:[10,10,0,0],color:s.normal.colorList[0]}},label:{normal:{show:s.normal.show,position:s.normal.position,textStyle:{fontWeight:"bolder",fontSize:"14",fontFamily:"\u5fae\u8f6f\u96c5\u9ed1",fontStyle:"normal"}}}},{name:s.legend[1],type:"bar",data:s.barData.send_num,itemStyle:{normal:{barBorderRadius:[10,10,0,0],color:s.normal.colorList[1]}},label:{normal:{show:s.normal.show,position:s.normal.position,textStyle:{fontWeight:"bolder",fontSize:"14",fontFamily:"\u5fae\u8f6f\u96c5\u9ed1",fontStyle:"normal"}}}}]};d.setOption(m)}t("echarts.min"),t("layui");var s={request:function(t,e,a,n,r){$.ajax({url:e,type:t,data:a,dataType:"JSON",success:function(t){n(t)},error:r})}},u=$(".by-time span");u.on("click",function(){$(this).addClass("cut-sel").siblings().removeClass("cut-sel")});var c=$("#typeList").val(),d=$(".cut-sel").attr("data-time");$("#stime").val(r(-6)),$("#etime").val(r(0)),n(),i(),$("#confirmBtn").on("click",function(){var t=$("#typeList").val(),e=$(".cut-sel").attr("data-time"),a=$("#teacherList").val(),n=$("#stime").val(),r=$("#etime").val(),i=parseInt(n.replace(/-/g,"")),l=parseInt(r.replace(/-/g,""));return""==n?alert("\u8bf7\u9009\u62e9\u5f00\u59cb\u65e5\u671f\uff01"):""==r?alert("\u8bf7\u9009\u62e9\u7ed3\u675f\u65e5\u671f\uff01"):i>l?alert("\u5f00\u59cb\u65f6\u95f4\u4e0d\u80fd\u665a\u4e8e\u7ed3\u675f\u65f6\u95f4\uff01"):void o(t,e,a,n,r)})});